import { CancelablePromise } from '../../../base/common/async';
import { Disposable } from '../../../base/common/lifecycle';
import { ICodeEditor } from '../../browser/editorBrowser';
import { Position } from '../../common/core/position';
import { Range } from '../../common/core/range';
import { Selection } from '../../common/core/selection';
import { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey';
import { IMarkerService } from '../../../platform/markers/common/markers';
import { IEditorProgressService } from '../../../platform/progress/common/progress';
import { CodeActionSet } from './codeAction';
import { CodeActionTrigger } from './types';
export declare const SUPPORTED_CODE_ACTIONS: RawContextKey<string>;
export declare type TriggeredCodeAction = undefined | {
    readonly selection: Selection;
    readonly trigger: CodeActionTrigger;
    readonly position: Position;
};
export declare namespace CodeActionsState {
    const enum Type {
        Empty = 0,
        Triggered = 1
    }
    const Empty: {
        readonly type: Type.Empty;
    };
    class Triggered {
        readonly trigger: CodeActionTrigger;
        readonly rangeOrSelection: Range | Selection;
        readonly position: Position;
        readonly actions: CancelablePromise<CodeActionSet>;
        readonly type = Type.Triggered;
        constructor(trigger: CodeActionTrigger, rangeOrSelection: Range | Selection, position: Position, actions: CancelablePromise<CodeActionSet>);
    }
    type State = typeof Empty | Triggered;
}
export declare class CodeActionModel extends Disposable {
    private readonly _editor;
    private readonly _markerService;
    private readonly _progressService?;
    private readonly _codeActionOracle;
    private _state;
    private readonly _supportedCodeActions;
    private readonly _onDidChangeState;
    readonly onDidChangeState: import("../../../base/common/event").Event<CodeActionsState.State>;
    constructor(_editor: ICodeEditor, _markerService: IMarkerService, contextKeyService: IContextKeyService, _progressService?: IEditorProgressService | undefined);
    dispose(): void;
    private _update;
    trigger(trigger: CodeActionTrigger): void;
    private setState;
}
