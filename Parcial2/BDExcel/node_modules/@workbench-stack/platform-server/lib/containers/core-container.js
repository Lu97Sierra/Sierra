"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.coreContainer = void 0;
const services_1 = require("../services");
const core_1 = require("@workbench-stack/core");
const inversify_1 = require("inversify");
const url_1 = require("../core/url");
const lifecycle_1 = require("@vscode-alt/monaco-editor/esm/vs/base/common/lifecycle");
const scm_1 = require("../services/scm");
exports.coreContainer = (settings) => new inversify_1.ContainerModule((bind) => {
    inversify_1.decorate(inversify_1.injectable(), lifecycle_1.Disposable);
    // bind storage service
    bind(core_1.TYPES.IStorageService)
        .toConstantValue(settings.storageService);
    // bind EnvironmentService
    bind(core_1.TYPES.IEnvironmentService)
        .toConstantValue(settings.environmentService);
    // bind Lifecycle
    bind(core_1.TYPES.ILifecycleService)
        .to(services_1.LifecycleService)
        .inSingletonScope();
    // bind notification
    bind(core_1.TYPES.INotificationService)
        .to(services_1.NotificationService).inSingletonScope();
    // bind url
    bind(core_1.TYPES.IURLService)
        .to(url_1.URLService).inSingletonScope();
    // bind scm
    bind(core_1.TYPES.ISCMService)
        .to(scm_1.SCMService).inSingletonScope();
    // bind logger TODO
    bind(core_1.TYPES.ILogService)
        .toConstantValue(settings.logger);
});
//# sourceMappingURL=core-container.js.map