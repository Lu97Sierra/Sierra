{"version":3,"file":"index.cjs","sources":["../src/index.js"],"sourcesContent":["import { TRACE, FATAL, nameFromLevel } from '@browser-bunyan/levels';\n\nexport class ConsolePlainStream {\n\n    constructor({ logByLevel = false } = {}) {\n        this.logByLevel = logByLevel;\n    }\n\n    write(rec) {\n        let consoleMethod;\n\n        const loggerName = rec.childName ? rec.name + '/' + rec.childName : rec.name;\n\n        //get level name and pad start with spaces\n        let levelName = nameFromLevel[rec.level];\n        const formattedLevelName = (Array(6 - levelName.length).join(' ') + levelName).toUpperCase();\n\n        if (this.logByLevel) {\n            if (rec.level === TRACE) {\n                levelName = 'debug';\n            } else if (rec.level === FATAL) {\n                levelName = 'error';\n            }\n            consoleMethod = typeof console[levelName] === 'function' ? console[levelName] : console.log;\n        } else {\n            consoleMethod = console.log;\n        }\n\n        const padZeros = (number, len) => Array((len + 1) - (number + '').length).join('0') + number;\n\n        let msg = '[' + padZeros(rec.time.getHours(), 2) + ':';\n        msg += padZeros(rec.time.getMinutes(), 2) + ':';\n        msg += padZeros(rec.time.getSeconds(), 2) + ':';\n        msg += padZeros(rec.time.getMilliseconds(), 4) + '] ';\n        msg += formattedLevelName + ': ';\n        msg += loggerName + ': ' ;\n        msg += rec.msg;\n        if (rec.src) {\n            msg += ' (' + rec.src + ')';\n        }\n\n        consoleMethod.call(console, msg);\n        if (rec.err && rec.err.stack) {\n            consoleMethod.call(console, rec.err.stack);\n        }\n        if (rec.obj) {\n            consoleMethod.call(console, rec.obj);\n        }\n    }\n}"],"names":["logByLevel","this","write","rec","consoleMethod","loggerName","childName","name","levelName","nameFromLevel","level","formattedLevelName","Array","length","join","toUpperCase","TRACE","FATAL","console","log","padZeros","number","len","msg","time","getHours","getMinutes","getSeconds","getMilliseconds","src","call","err","stack","obj"],"mappings":"2FAII,gCAAqC,MAAvBA,WACVC,KAAKD,4CAGTE,MAAA,SAAMC,GACF,IAAIC,EAEEC,EAAaF,EAAIG,UAAYH,EAAII,KAAO,IAAMJ,EAAIG,UAAYH,EAAII,KAGpEC,EAAYC,gBAAcN,EAAIO,OAC5BC,GAAsBC,MAAM,EAAIJ,EAAUK,QAAQC,KAAK,KAAON,GAAWO,cAE3Ed,KAAKD,YACDG,EAAIO,QAAUM,QACdR,EAAY,QACLL,EAAIO,QAAUO,UACrBT,EAAY,SAEhBJ,EAA8C,mBAAvBc,QAAQV,GAA4BU,QAAQV,GAAaU,QAAQC,KAExFf,EAAgBc,QAAQC,IAG5B,IAAMC,EAAW,SAACC,EAAQC,UAAQV,MAAOU,EAAM,GAAMD,EAAS,IAAIR,QAAQC,KAAK,KAAOO,GAElFE,EAAM,IAAMH,EAASjB,EAAIqB,KAAKC,WAAY,GAAK,IACnDF,GAAOH,EAASjB,EAAIqB,KAAKE,aAAc,GAAK,IAC5CH,GAAOH,EAASjB,EAAIqB,KAAKG,aAAc,GAAK,IAC5CJ,GAAOH,EAASjB,EAAIqB,KAAKI,kBAAmB,GAAK,KACjDL,GAAOZ,EAAqB,KAC5BY,GAAOlB,EAAa,KACpBkB,GAAOpB,EAAIoB,IACPpB,EAAI0B,MACJN,GAAO,KAAOpB,EAAI0B,IAAM,KAG5BzB,EAAc0B,KAAKZ,QAASK,GACxBpB,EAAI4B,KAAO5B,EAAI4B,IAAIC,OACnB5B,EAAc0B,KAAKZ,QAASf,EAAI4B,IAAIC,OAEpC7B,EAAI8B,KACJ7B,EAAc0B,KAAKZ,QAASf,EAAI8B"}